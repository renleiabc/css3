<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>es6这些就够了</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
    <div id="dome"></div>
    <script>
        // 1.变量声明const和let
        var funcs = [];
        for (var i = 0; i < 10; i++) {
            funcs.push(function() {
                console.log(i); // 输出10次10
            })
        }
        console.log(i);
        funcs.forEach(function(func) {
            func()
        })
        // // ES5知识，我们可以利用“立即调用函数”解决这个问题
        var arr = [];
        for (let j = 0; j < 10; j++) {
            arr.push(
                (function(value) {
                    return function() {
                        console.log(value);
                    }
                })(j)
            )
        }
        arr.forEach(function(params) {
            params()
        })
        // 再来看看es6怎么处理的
        let array = [];
        for (let i = 0; i < 10; i++) {
            array.push(function() {
                console.log(i)
            })
        }
        array.forEach(param => param())
        // 2.字符串模板
        var name = 'lux';
        // es5
        console.log('hello ' + name);
        // es6
        //ES6模板字符简直是开发者的福音啊，解决了 ES5 在字符串功能上的痛点。
        // 第一个用途，基本的字符串格式化。将表达式嵌入字符串中进行拼接。用${}来界定。
        const sencod = 'name';
        console.log(`hello ${sencod}`);
        // 第二个用途，在ES5时我们通过反斜杠(\)来做多行字符串或者字符串一行行拼接。ES6反引号(``)直接搞定。 
        // es7
        console.log(2 ** 3);
        // es5
        var msg = 'Hi\sdfasdadadas\
man!\
       ';
        console.log(msg);
        const template = `<div>
       <span>hello world</span
       </div>`;
        var html = '<span>sadasdas</span>';
        var dome = document.querySelector("#dome");
        dome.innerHTML = template; {
            // 对于字符串 ES6+ 当然也提供了很多厉害也很有意思的方法😊 说几个常用的。
            // 1.includes：判断是否包含然后直接返回布尔值
            let str = 'hahay';
            let arr = [1, 3, 4, 'a', 'b'];
            console.log(arr.includes(1));
            console.log(arr.includes('c'));
            console.log(str.includes('y'));
            str = 'he';
            // 2.repeat: 获取字符串重复n次
            console.log(str.repeat(3));
            //如果你带入小数, Math.floor(num) 来处理
            // s.repeat(3.1) 或者 s.repeat(3.9) 都当做成 s.repeat(3) 来处理
            // 3. startsWith 和 endsWith 判断是否以 给定文本 开始或者结束
            str = 'hello world!';
            console.log(str.startsWith('hello')); // true
            console.log(str.endsWith('!')); // true
            // // 4. padStart 和 padEnd 填充字符串，应用场景：时分秒
            // padStart() 用于头部补全；
            // padEnd() 用于尾部补全。
            str = "aaa"
            str.padStart(5, '123das');
            console.log(str.padStart(5, '123'));
            console.log(str.padEnd(6, '1234'))
            setTimeout(() => {
                const now = new Date();
                const hours = now.getHours().toString();
                const minutes = now.getMinutes().toString();
                const seconds = now.getSeconds().toString();
                console.log(hours)
                console.log(`${hours.padStart(3,0)}:${minutes.padStart(2,0)}:${seconds.padStart(2,0)}`)
            }, 1000)
        } {
            let address = '北京海淀区';
            let name = 'lala';
            let str = `${name}在${address}上班...`;
            // 模拟一个方法 myTemplate(str) 最终输出 'lala在北京海淀区上班...'
            function myTemplate(str) {
                // try it
                return str;
            }
            console.log(myTemplate(str)) // lala在北京海淀区上班...
        } {

            const name = 'cc'
            const gender = 'male'
            const hobby = 'basketball'
            // 实现tag最终输出 '姓名：**cc**，性别：**male**，爱好：**basketball**'
            function tag(strings) {
                console.log(typeof strings);
                return strings;
            }
            const str = tag `姓名：${name}，性别：${gender}，爱好：${hobby}`
            console.log(str) // '姓名：**cc**，性别：**male**，爱好：**basketball**'
        } {
            function action(num = 200) {
                console.log(num);
            }
            action()

            function people(name, age) {
                return {
                    name,
                    age
                }
            }
            console.log(people('renlei', 20));
            // 4.拓展的对象功能
            // ES6通过省略冒号与 function 关键字，将这个语法变得更简洁
            const people1 = {
                name: 'lux',
                getName() {
                    console.log(this.name);
                }
            }
            people1.getName()
        } {
            // 5.更方便的数据访问--解构
            // 对象
            const people = {
                name: 'lux',
                age: 20
            }
            const { name, age } = people;
            console.log(`${name}---${age}`)
            // 数组
            const color = ['red', 'blue'];
            const [first, second] = color;
            console.log(first);
            console.log(second);
        } {
            // 6.Spread Operator 展开运算符
        }
    </script>
</body>

</html>